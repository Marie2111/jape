<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $id:$ -->

<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta http-equiv="Content-Style-Type" content="text/css"/>
  <title>How to build Jape on Mac OS X.</title>
</head>

<body>

<h1>How to build Jape on Mac OS X. July 2012 (and April 2014)</h1>


<p >Currently we build OS/X Jape on Snow Leopard or Lion,
and use OCaml 3.12 (and OCaml (4.01.0)).  We build Linux Jape with the
same Ocaml version, but on a Linux machine.</p>



<h2> If you want to build Jape yourself</h2>


<p >1. Install the developer tools (get them from Apple or from a CD).</p>


<p >1a. Make sure ant (installed by the developer tools) is
known to the shell (and why Apple doesn't do this, I don't
know). I added the following lines to <tt>~/.profile</tt>:</p>


<tt><pre>
        ## ant variables added by richard 13/ii/2008 start
        ## Do not remove the previous line
        
        PATH="$PATH:/usr/share/ant/bin"
        export PATH
        ANTHOME="/usr/share/ant"
        export ANTHOME
        JAVA_HOME="/Library/Java/Home"
        export JAVA_HOME
        
        ## Do not remove the next line
        ## ant variables added by richard 13/ii/2008 end
</pre></tt>



<p >2. Install the latest OCaml to build the jape ‘engine’ (at time of writing, in April 2014, 
Jape is built using ocaml 4.01.0; but has been known to build with ocaml 3.12)</p>


<p >3. Get jarbundler, an ant task, to put the parts
together and make a Mac OS X application. It's on
sourceforge but the latest version is always available from
the developer at <a href="http://informagen.com/JarBundler/">http://informagen.com/JarBundler/</a>.
Follow the instructions and put <tt>jarbundler-?.?.?.jar</tt> in
<tt>/usr/share/ant/lib</tt>.</p>

<p >4. <i>If you only have Apple's Java 1.6 </i>: In the directory where you found this file (<tt>...../distrib/MacOSX</tt>):


<pre>
        <tt>make local</tt> 
</pre>

builds the engine and the GUI interface, bundles them together and puts them in <tt>./build/Jape.app</tt>

<pre>
        <tt>make run</tt> 
</pre>
lets you try it out. If it works, move <tt>build/Jape.app</tt> where you like, or if you want to
construct a disk image (together with examples), run

<pre>
        <tt>sh macdistrib</tt> <i>version</i>
</pre>

which makes <tt>jape_<i>version</i>.dmg</tt>.
</p>

<p>
<i>If you only have Oracle's Java 1.7 </i>
<pre>
        <tt>make local7</tt> 
</pre>

builds the engine and the GUI interface, bundles them together and puts them in <tt>./build1.7/Jape.app</tt>

<pre>
        <tt>make run7</tt> 
</pre>
lets you try it out. If it works, move <tt>build7/Jape.app</tt> where you like, or if you want to
construct a disk image (together with examples), run
<pre>
        <tt>sh macdistrib7</tt> <i>version</i>
</pre>

which makes <tt>jape-java1.7_<i>version</i>.dmg</tt>.
</p>



<br/><hr width="60%"/><br/>




<h2>Contact</h2>
<p>Build originally documented by Richard Bornat (<tt>richard@bornat.me.uk</tt>), 11th March 2009; 
subsequently edited by Bernard Sufrin (@ <tt>cs ox ac uk</tt>), late July 2012 and early April and October 2014</p>

</body>
</html>




